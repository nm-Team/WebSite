<!doctype html>
<html>

<head>

	<meta charset="utf-8" />
	<title>Select Language - nmTeam - Official Website</title>
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
	<meta name='apple-mobile-web-app-capable' content='yes'>
	<meta name='apple-mobile-web-app-status-bar-style' content='black'>
	<meta name='format-detection' content='telephone=no'>
	<meta name="keywords" content="nmTeam,nm,纳米团队,nmFun,nmChat,nmBrowser,nmProducts,nmBrowser-StartPage,nmTeamNewsroom">
	<meta name="description" content="nmTeam凭借非凡创意，为世界创造无与伦比的nm产品。nmTeam is a team that makes nmProducts to the world with incredible thoughts. ">
	<link rel="stylesheet" type="text/css" href="/src/css/common.css">
	<link rel="stylesheet" type="text/css" href="/src/css/header.css">
	<link rel="stylesheet" type="text/css" href="/src/css/lan.css">
	<script src="/src/js/loadbefore.js"></script>

</head>

<body>
	<div id="hcont"></div>
	<div class="title largepadding">
		<h1 data-i18n="language.page.title"></h1>
	</div>
	<div class="main">
		<div id="lanList"></div>
		<p data-i18n="language.page.tip"></p>
	</div>

	<div id="fcont"></div>


	<script src="/src/js/header.js"></script>
	<script src="https://accounts.nmteam.xyz/src/js/getinfo.js"></script>

	<script src="/src/js/jquery.min.js"></script>
	<script src="/src/js/i18next-1.6.3.min.js"></script>
	<script src="/src/js/language.js"></script>

	<script>
		backCallURL = unescape(getQueryVariable("bks"));
		cookieLanguage = getCookie("pageLanguage");
		lanT = `<button class="selection" data-lanid="{{lan}}" data-lanname="{{lanname}}" data-active="{{active}}" title="{{lanname}}">{{lanname}}</button>`;
		lanList.innerHTML += lanT.replace(/{{lan}}/g, "auto").replace(/{{lanname}}/g, "<t data-i18n='footer.auto'></t>").replace(/{{active}}/g, (cookieLanguage == "" || cookieLanguage == "auto"));
		for (flan in languageList) {
			lanList.innerHTML += lanT.replace(/{{lan}}/g, flan).replace(/{{lanname}}/g, languageList[flan]).replace(/{{active}}/g, cookieLanguage == flan);
		}
		function getQueryVariable(variable) {
			var query = window.location.search.substring(1);
			var vars = query.split("&");
			for (var i = 0; i < vars.length; i++) {
				var pair = vars[i].split("=");
				if (pair[0] == "null") {
					return null;
				}
				if (pair[0] == variable) {
					return decodeURI(pair[1]);
				}
			}
			return null;
		}
		$("#lanList .selection").on("click", function () {
			console.log("Switch language to " + $(this).attr("data-lanid"));
			changeLanguage($(this).attr("data-lanid"));
			if (!backCallURL || backCallURL == "undefined") backCallURL = window.location.href;
			window.location.href = backCallURL;
		});
	</script>
</body>

</html>